<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Differentiation</title>
    <meta charset="utf-8" />
    <meta name="author" content="MACS 33000   University of Chicago" />
    <script src="03-differentiation_files/header-attrs/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="slides-menu.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Differentiation
]
.author[
### <a href="https://jmclip.github.io/MACSS_math_camp/">MACS 33000</a> <br /> University of Chicago
]

---







# Learning objectives

* Define the slope of a line
* Summarize tangent lines, rates of change, and derivatives
* Define derivative rules for common functions
* Apply the product, quotient, and chain rules for differentiation
* Summarize the exponential function and natural logarithms
* Identify properties of derivatives helpful to statistical methods

---

# What is calculus?

* Calculus
* Differential calculus
* Integral calculus
* Underlies most statistical and computational methods
* Crucial for **optimization**

--

## Potential uses

* Given data, what is the most likely value of a parameter(s)?
* Game theory: given another player's strategy, what is the action that maximizes utility?

---

# How functions change

* Derivatives
* A special limit
* Cover three broad ideas 
    1. Geometric interpretation/intuition
    1. Formulas/algebra derivatives
    1. Famous theorems

---

# The tangent as a limit

&lt;img src="03-differentiation_files/figure-html/tan-lines-1.gif" width="85%" style="display: block; margin: auto;" /&gt;

---

# The tangent as a limit

.pull-left[

&lt;img src="03-differentiation_files/figure-html/tan-lines-slim-1.gif" width="85%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

$$
`\begin{aligned}
P &amp;= (x_0, y_0) \\
Q &amp;= (x_1, y_1) \\
\text{slope of } L &amp;= \frac{y_1 - y_0}{x_1 - x_0}
\end{aligned}`
$$

]

---

# The tangent as a limit


$$
`\begin{aligned}
P &amp;= (x_0, y_0) \\
Q &amp;= (x_1, y_1) \\
\text{slope of } L &amp;= \frac{y_1 - y_0}{x_1 - x_0}
\end{aligned}`
$$

--

### Substitute values

$$
`\begin{aligned}
h &amp;= x_1 - x_0 \\
x_1 &amp;= x_0 + h \\
y_0 &amp;= f(x_0) \\
y_1 &amp;= f(x_0 + h) \\
\text{slope of } L &amp;= \frac{f(x_0 + h) - f(x_0)}{h}
\end{aligned}`
$$



---

# Derivative

Suppose `\(f:\Re \rightarrow \Re\)`. Measure rate of change at a point `\(x_{0}\)` with a function `\(R(x)\)`,

`$$R(x) = \frac{f(x) - f(x_{0}) }{ x- x_{0} }$$`

* `\(R(x)\)` defines the rate of change
* A derivative will examine what happens with a small perturbation at `\(x_{0}\)`

---

# Derivative

* Let `\(f:\Re \rightarrow \Re\)`. If the limit

    `$$\begin{aligned} \lim_{x\rightarrow x_{0}} R(x) &amp; = \frac{f(x) - f(x_{0}) }{x - x_{0}} \\ &amp; = f^{'}(x_{0}) \end{aligned}$$`

    exists then we say that `\(f\)` is **differentiable** at `\(x_{0}\)`
* If `\(f^{'}(x_{0})\)` exists for all `\(x \in \text{Domain}\)`, then we say that `\(f\)` is differentiable

---

# Derivative

* Let `\(f\)` be a function whose domain includes an open interval containing the point `\(x\)`
* The derivative of `\(f\)` at `\(x\)` is given by

    `$$\frac{d}{dx}f(x) =\lim\limits_{h\to 0} \frac{f(x+h)-f(x)}{(x+h)-x} = \lim\limits_{h\to 0} \frac{f(x+h)-f(x)}{h}$$`

--

## Derivative notation

* Leibniz notation: `\(\frac{d}{dx}(f(x))\)`
* Prime or Lagrange notation: `\(f'(x)\)`

---

# Example derivatives

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="03-differentiation_files/figure-html/derivsimple-1.png" alt="The Derivative as a Slope" width="85%" /&gt;
&lt;p class="caption"&gt;The Derivative as a Slope&lt;/p&gt;
&lt;/div&gt;

* If `\(f'(x)\)` exists at a point `\(x_0\)`, then `\(f\)` is said to be **differentiable** at `\(x_0\)`
* Implies continuity of `\(f(x)\)` at `\(x_0\)`

---

# Rates of change in a function

* Consider `\(y = f(x)\)`
* As `\(x\)` changes from `\(x_0\)` to `\(x_0 + h\)`, the value of the function changes from `\(f(x_0)\)` to `\(f(x_0 + h)\)`
* Change in `\(x\)` is `\(h\)`
* Change in `\(f(x)\)` is `\(f(x_0 + h) - f(x_0)\)`
* Rate of change of `\(f(x)\)` is defined to be

    `$$\frac{f(x_0 + h) - f(x_0)}{h}$$`

--

* Same thing as a derivative

---

# Rates of change in a function

&lt;img src="03-differentiation_files/figure-html/vote-spending-1.png" width="85%" style="display: block; margin: auto;" /&gt;

--

* Rate of change `\(\leadsto\)` return on vote share for dollars invested
* Instantaneous rate of change `\(\leadsto\)` increase in vote share in response to infinitesimally small increase in spending
* A type of **limit**

---

# Examples of derivatives

* `\(f(x) = x^2\)` and consider `\(x_{0} = 1\)`

$$
`\begin{aligned}
\lim_{x\rightarrow 1}R(x) &amp; = \lim_{x\rightarrow 1} \frac{x^2 - 1^2}{x - 1}  \\
 	&amp; = \lim_{x\rightarrow 1} \frac{(x- 1)(x + 1) }{ x- 1}   \\
	&amp; =  \lim_{x\rightarrow 1} x + 1  \\
	&amp; = 2
\end{aligned}`
$$

---

# Examples of derivatives

* `\(f(x) = |x|\)` and consider `\(x_{0} = 0\)`

    `$$\lim_{x\rightarrow 0} R(x) = \lim_{x\rightarrow 0} \frac{ |x| } {x}$$`

--

* `\(\lim_{x \rightarrow 0^{-}} R(x) = -1\)`
* `\(\lim_{x \rightarrow 0^{+}} R(x) = 1\)`
* Not differentiable at `\(0\)`

---

# Continuity and derivatives

* `\(f(x) = |x|\)` is **continuous** but not differentiable
* Change is **too abrupt**
* Suggests differentiability is a stronger condition

--

Let `\(f:\Re \rightarrow \Re\)` be differentiable at `\(x_{0}\)`. Then `\(f\)` is continuous at `\(x_{0}\)`.

---

# What goes wrong?

$$
`\begin{aligned}
f(x)  &amp; = x^{2} \text{ for all  } x \in \Re \setminus 0 \\
f(x) &amp; = 1000  \text{ for  } x = 0
\end{aligned}`
$$

* `\(f'(0)\)`

    `$$\begin{aligned} \lim_{x \rightarrow 0 } R(x) &amp; = \lim_{x \rightarrow 0 } \frac{f(x+h)-h}{ h   } \\ &amp;= \lim_{x \rightarrow 0 }\frac{h^2}{h}\\ &amp;= \lim_{x \rightarrow 0 } h \end{aligned}$$`

* `\(\lim_{x \rightarrow 0 } h \neq 1000\)`, so the limit doesn't exist										

---

# Calculating derivatives

* Rarely will we take a limit to calculate derivative
* Rather, rely on **rules** and properties of derivatives
* **Important**: do not forget core intuition

--

## Strategy

* Algebra theorems
* Some specific derivatives
* Work on problems 

---

# Derivative rules: WRITE THESE DOWN

Suppose `\(a\)` is some constant, `\(f(x)\)` and `\(g(x)\)` are functions:

$$
`\begin{aligned}
f(x) &amp;= x &amp; \quad f^{'}(x) &amp;= 1 \\
f(x) &amp;= a x^{k} &amp; \quad f^{'}(x) &amp;= (a) (k) x ^{k-1} \\
f(x) &amp;= e^{x } &amp; \quad f^{'} (x) &amp;= e^{x} \\
f(x) &amp;= \sin(x) &amp; \quad f^{'} (x) &amp;= \cos (x) \\
f(x) &amp;= \cos(x) &amp; \quad f^{'} (x) &amp;= - \sin(x) \\
\end{aligned}`
$$

---

# Derivative rules

##### Constant rule `\(\left[k f(x)\right]' = k f'(x)\)`

##### Sum rule `\(\left[f(x)\pm g(x)\right]' = f'(x)\pm g'(x)\)`

##### Product rule `\(\left[f(x)g(x)\right]' = f'(x)g(x)+f(x)g'(x)\)`

##### Quotient rule `\(\frac{f(x)}{g(x)}' = \frac{f'(x)g(x)-f(x)g'(x)}{[g(x)]^2}, g(x)\neq 0\)`

##### Power rule `\(\left[x^k\right]' = k x^{k-1}\)`

---

# Derivatives with a friend

Differentiate the following functions:

1. `\(f(x)= x^3 + 5 x^2  + 4 x\)`, &lt;span style="color: gray;"&gt; at `\(x_{0} = 2\)`&lt;/span&gt;
1. `\(f(x) = \sin(x) x^3\)`, &lt;span style="color: gray;"&gt; at `\(x_{0} = 2\)`&lt;/span&gt;
1. `\(h(x) = \dfrac{e^{x}}{x^3}\)`, &lt;span style="color: gray;"&gt; at `\(x_{0} = 2\)` &lt;/span&gt;
1. `\(h(x) = \log (x) x^3\)`, &lt;span style="color: gray;"&gt; at `\(x_{0} = e\)` &lt;/span&gt;

---

# Composite functions

* Differentiating functions of functions

    `$$x^2 + 1^2 \quad \text{vs.} \quad (x^2 + 1)^2$$`

--

* Composite functions

    `$$f \circ g=f[g(x)]$$`

* Range of `\(g\)` must be contained (at least in part) within the domain of `\(f\)`
* Domain of `\(f \circ g\)` consists of all the points in the domain of `\(g\)` for which `\(g(x)\)` is in the domain of `\(f\)`

---

# Composite functions

$$
`\begin{aligned}
f(x) &amp;= \log x \in (0, \infty) \\
g(x) &amp;= x^2 \in (-\infty, \infty)
\end{aligned}`
$$

--

`$$f[g(x)] = \log x^2 \in (-\infty, \infty) - \{0\}$$`

`$$g[f(x)] = [\log x]^2 \in (0, \infty)$$`

---

# Chain rule

* `\(y = f[g(x)]\)`
* Derivative of `\(y\)` with respect to `\(x\)` is

    `$$\frac{d}{dx} \{ f[g(x)] \} = f'[g(x)] g'(x)$$`

* Derivative of the "outside" times the derivative of the "inside"
The chain rule can be thought of as the derivative of the "outside" times 
* "Outside" evaluated at the value of the inside function

---

# Chain rule

$$
`\begin{aligned}
h(x) &amp;= e^{2x} \\
g(x) &amp;= e^{x} \\
f(x) &amp;= 2x
\end{aligned}`
$$

`$$h(x) = g(f(x)) = g(2x) = e^{2x}$$`

--

`$$h^{'}(x) = g^{'}(f(x))f^{'}(x) = e^{2x}2$$`

---

# Chain rule

$$
`\begin{aligned}
h(x) &amp;= \log(\cos(x) ) \\
g(x) &amp;= \log(x) \\
f(x) &amp;= \cos(x)
\end{aligned}`
$$

`$$h(x) = g(f(x)) = g( \cos(x)) = \log(\cos(x))$$`

--

`$$h^{'}(x) = g^{'}(f(x))f^{'}(x) = \frac{-1}{\cos(x)} \sin(x) = -\tan (x)$$`

---

# Generalized power rule

* If `\(f(x)=[g(x)]^p\)` for any rational number `\(p\)`

    `$$f^\prime(x) =p[g(x)]^{p-1}g^\prime(x)$$`

---

# Exponential function

&lt;img src="03-differentiation_files/figure-html/exp-func-1.png" width="85%" style="display: block; margin: auto;" /&gt;


---

# Derivative of exponential function

`$$\frac{d}{dx}(e^x) = e^x$$`

* Why?

--

$$
`\begin{aligned}
\frac{d}{dx}f(x) &amp; = \lim\limits_{h\to 0} \frac{f(x+h)-f(x)}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^{x + h} - e^x}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^x e^h - e^x}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^x(e^h - 1)}{h} \\
&amp;= e^x \lim\limits_{h\to 0} \frac{e^h - 1}{h}
\end{aligned}`
$$

---

# Derivative of exponential function

&lt;img src="03-differentiation_files/figure-html/exp-limit-1.png" width="85%" style="display: block; margin: auto;" /&gt;

---

# Derivative of exponential function

$$
`\begin{aligned}
\frac{d}{dx}f(x) &amp; = \lim\limits_{h\to 0} \frac{f(x+h)-f(x)}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^{x + h} - e^x}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^x e^h - e^x}{h} \\
&amp;= \lim\limits_{h\to 0} \frac{e^x(e^h - 1)}{h} \\
&amp;= e^x \lim\limits_{h\to 0} \frac{e^h - 1}{h} \\
&amp; = e^x (1) \\
&amp; = e^x
\end{aligned}`
$$

---

# Derivative of exponential function

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="03-differentiation_files/figure-html/fig-derivexponent-1.png" alt="Derivative of the Exponential Function" width="85%" /&gt;
&lt;p class="caption"&gt;Derivative of the Exponential Function&lt;/p&gt;
&lt;/div&gt;

---

# Derivative of the natural logarithm

* Logarithm to base `\(e\)` of `\(x\)`, where `\(e\)` is defined as **Euler's number**

    `$$y = \log_e (x) \iff x = e^y$$`

* Relationship between `\(e^x\)` and `\(\log_e(x)\)`

    `$$\begin{aligned} e^{\log(x)} &amp;= x \, \text{for every positive number} \, x \\ \log(e^y) &amp;= y \, \text{for every real number} \, y \\ \end{aligned}$$`

---

# Exponential function and natural logarithm

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="03-differentiation_files/figure-html/exp-log-1.png" alt="Exponential function and natural logarithm" width="85%" /&gt;
&lt;p class="caption"&gt;Exponential function and natural logarithm&lt;/p&gt;
&lt;/div&gt;

---

# Derivative of a natural logarithm
    
  $$(f^{-1})'(x) = \frac{1}{f'(f^{-1}(x))} $$
    
Let's find the derivative of `\(log(x)\)`. We already know the derivative of its inverse, `\(e^x\)` is `\(e^x\)`. So, we begin with `\(f(x) = e^x\)` (and `\(f'(x) = e^x\)`) and want to know `\((f^{-1})'(x)\)`.
  
We know `\(f'(f^{-1}(x)) = f'(log(x)) = e^{log(x)} = x\)`
  
--
    

Therefore,
  `$$\begin{aligned} (f^{-1})'(x) &amp;= \frac{1}{f'(f^{-1}(x))} \\
   &amp;= \frac{1}{(e^{log(x)})} \\
  &amp;= \frac{1}{x} \end{aligned}$$`

---

# Derivative of a natural logarithm

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="03-differentiation_files/figure-html/fig-derivlog-1.png" alt="Derivative of the Natural Log" width="864" /&gt;
&lt;p class="caption"&gt;Derivative of the Natural Log&lt;/p&gt;
&lt;/div&gt;

---

# Relevance of `\(e^x\)` and `\(\log(x)\)`

* Growth over time (e.g. compounding interest)
* Elasticity models
* Variable transformation

---

# Derivatives and properties of functions

* Often used to **optimize** a function (tomorrow)
* But also reveal **average rates of change**
* Or crucial properties of functions

---

# Rolle's theorem

&gt; Suppose `\(f:[a, b] \rightarrow \Re\)`.  Suppose `\(f\)` has a relative maxima or minima on `\((a,b)\)` and call that `\(c \in (a, b)\)`.  Then `\(f'(c) = 0\)`.

--

&lt;img src="03-differentiation_files/figure-html/rolles-theorem-1.png" width="864" style="display: block; margin: auto;" /&gt;

---

# Rolle's theorem

&gt; Suppose `\(f:[a, b] \rightarrow \Re\)`.  Suppose `\(f\)` has a relative maxima or minima on `\((a,b)\)` and call that `\(c \in (a, b)\)`.  Then `\(f'(c) = 0\)`.

* Consider (without loss of generalization) a relative maximum `\(c\)`
* Consider the left-hand and right-hand limits

    `$$\begin{aligned} \lim_{x \rightarrow c^{-}} \frac{f(x) - f(c) }{x - c } &amp; \geq 0  \\ \lim_{x \rightarrow c^{+}} \frac{f(x) - f(c) } {x - c }  &amp; \leq 0 \end{aligned}$$`

* But we also know that 

    `$$\begin{aligned} \lim_{x \rightarrow c^{-}} \frac{f(x) - f(c ) }{x - c } &amp; = f^{'}(c)  \\ \lim_{x \rightarrow c^{+}} \frac{f(x) - f(c) } {x - c }  &amp;  =  f^{'}(c) \end{aligned}$$`


---

# Rolle's theorem

* The only way, then, that we can have something `\(\geq 0\)` equal to `\(\leq 0\)` is if `\(f^{'}(c) = 0\)` :
`$$\lim_{x \rightarrow c^{-}} \frac{f(x) - f(c) }{x -c}  = \lim_{x \rightarrow c^{+}} \frac{f(x) - f(c) } {x - c}$$` 

---

# Mean value theorem

* If `\(f:[a,b] \rightarrow \Re\)` is continuous on `\([a,b]\)` and differentiable on `\((a,b)\)`, then there is a `\(c \in (a,b)\)` such that 

    `$$f^{'}(c) = \frac{f(b) - f(a) } { b - a}$$`

--

* Rolle's theorem is a special case of the MVT, where `\(f'(c) = 0\)`

---

# Mean value theorem

&lt;img src="03-differentiation_files/figure-html/mean-value-theorem-1.png" width="85%" style="display: block; margin: auto;" /&gt;

---

# Applications of the mean value theorem

* This will come up in a formal theory article. You'll at least know where to look
* It allows us to say lots of powerful stuff about functions
* Especially useful for approximating derivatives (see next set of slides)

---

# Applications of the mean value theorem

Suppose that `\(f:[a,b] \rightarrow \Re\)` is continuous on `\([a,b]\)` and differentiable on `\((a,b).\)` Then, 

1. If `\(f^{'}(x) \neq 0\)` for all `\(x \in (a,b)\)` then `\(f\)` is 1-1
1. If `\(f^{'}(x) = 0\)` then `\(f(x)\)` is constant 
1. If `\(f^{'}(x)&gt; 0\)` for all `\(x \in (a,b)\)` then then `\(f\)` is strictly increasing
1. If `\(f^{'}(x)&lt;0\)` for all `\(x \in (a,b)\)` then `\(f\)` is strictly decreasing

---

# If `\(f^{'}(x) \neq 0\)` for all `\(x \in (a,b)\)` then `\(f\)` is 1-1

&lt;img src="03-differentiation_files/figure-html/one-to-one-1.png" width="85%" style="display: block; margin: auto;" /&gt;

---

# If `\(f^{'}(x) \neq 0\)` for all `\(x \in (a,b)\)` then `\(f\)` is 1-1

* Suppose that `\(f\)` is not 1-1. Then there is `\(x, y \in (a,b)\)` such that `\(f(x) = f(y)\)`. Then, 

    `$$f'(c) = \frac{f(x) - f(y)}{x- y} = \frac{0}{x -y}  = 0$$`

* This means `\(f' \neq 0\)` for all `\(x\)`
* **Contradiction**

---

# If `\(f^{'}(x) = 0\)` then `\(f(x)\)` is constant

* By way of contradiction, suppose that there is `\(x, y \in (a,b)\)` such that `\(f(x) \neq f(y)\)`. But then, 

    `$$f'(c) = \frac{f(x) - f(y) } {x - y} \neq 0$$`

---

# If `\(f^{'}(x)&gt; 0\)` for all `\(x \in (a,b)\)` then `\(f\)` is strictly `\(\uparrow\)`

* By way of contradiction, suppose that there is `\(x, y \in (a,b)\)` with `\(y&lt;x\)` but `\(f(y)&gt;f(x)\)`. But then, 

    `$$f'(c) = \frac{f(x) - f(y) }{x - y } &lt; 0,$$` which contradicts `\(f^{'}(x)&gt; 0\)`
* Proof for strictly decreasing is the reverse of this

---

# Cauchy mean value theorem

* Suppose `\(f\)` and `\(g\)` are differentiable functions and `\(a\)` and `\(b\)` are real numbers such that `\(a &lt; b\)`
* Suppose also that `\(g'(x) \neq 0\)` for all `\(x\)` such that `\(a &lt; x &lt; b\)`
* There exists a real number `\(c\)` such that `\(a &lt; c &lt; b\)` and

    `$$\frac{f'(c)}{g'(c)} = \frac{f(b) - f(a)}{g(b) - g(a)}$$`

--

* The classical mean value theorem is the special case where `\(g(x) = x\)` for all `\(x\)`

---

# Implications and a little help from Cauchy

Suppose we want to find

`$$\lim_{x \rightarrow a} \frac{f(x)}{g(x)}$$`

where `\(f\)` and `\(g\)` are continuous functions

* Suppose `\(g(a) \neq 0\)`, then we can do this:

    `$$\lim_{x \rightarrow a} \frac{f(x)}{g(x)} = \frac{f(a)}{g(a)}$$`

* BUT if `\(f(a) = g(a) = 0\)`... OH NO! What do we do with an indeterminate form (e.g. `\(\frac{0}{0}\)`)?

---

# New bestie: L'Hôpital's Rule

* Suppose that `\(f(a) = g(a) = 0\)` and `\(g'(x) \neq 0\)` if `\(x\)` is close but not equal to `\(a\)` (also applies for `\(\frac{\pm\infty}{\infty}\)`).
* Then

    `$$\lim_{x \rightarrow a} \frac{f(x)}{g(x)} = \lim_{x \rightarrow a} \frac{f'(x)}{g'(x)}$$`

--

$$
`\begin{aligned}
\frac{f(x) - f(a)}{g(x) - g(a)} &amp;= \frac{f'(c)}{g'(c)} \\
\frac{f(x) - 0}{g(x) - 0} &amp;= \frac{f'(c)}{g'(c)} \\
\frac{f(x)}{g(x)} &amp;= \frac{f'(c)}{g'(c)}
\end{aligned}`
$$

---

# Example of L'Hôpital's Rule

.pull-left[

&lt;img src="03-differentiation_files/figure-html/lhopital-1-1.png" width="85%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

$$
`\begin{aligned}
f'(x) &amp;= \frac{1}{3} (1 + x)^{-2/3} \\
f'(0) &amp;= \frac{1}{3} (1)^{-2/3} = \frac{1}{3} (1) = \frac{1}{3} \\
g'(x) &amp;= 1 - 2x \\
g'(0) &amp;= 1 - 2(0) = 1
\end{aligned}`
$$

`$$\lim_{x \rightarrow a} \frac{f(x)}{g(x)} = \lim_{x \rightarrow a} \frac{f'(x)}{g'(x)} = \frac{1/3}{1} = \frac{1}{3}$$`

]

---

# Example of L'Hôpital's Rule

.pull-left[

&lt;img src="03-differentiation_files/figure-html/lhopital-2-1.png" width="85%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

$$
`\begin{aligned}
f(x) &amp;= x - \log(1 + x) \\
f'(x) &amp;= 1 - \frac{1}{1 + x} \\
g(x) &amp;= x^2 \\
g'(x) &amp;= 2x
\end{aligned}`
$$

]

---

# Simplify the expression

$$
`\begin{aligned}
L &amp;= \lim_{x \rightarrow 0} \frac{1 - \frac{1}{1 + x}}{2x} \\
&amp;= \lim_{x \rightarrow 0} \frac{1}{2x} - \frac{\frac{1}{1 + x}}{2x} = \lim_{x \rightarrow 0} \frac{1}{2x} - \frac{1}{2x(1 + x)} \\
&amp;= \lim_{x \rightarrow 0} \frac{1(1 + x)}{2x(1 + x)} - \frac{1}{2x(1 + x)} \\
&amp;= \lim_{x \rightarrow 0} \frac{1(1 + x) - 1}{2x(1 + x)} \\
&amp;= \lim_{x \rightarrow 0} \frac{1 + x - 1}{2x(1 + x)} \\
&amp;= \lim_{x \rightarrow 0} \frac{x}{2x(1 + x)} = \lim_{x \rightarrow 0} \frac{1}{2(1 + x)} \\
&amp;= \lim_{x \rightarrow 0} \frac{1}{2(1 + 0)} = \frac{1}{2}
\end{aligned}`
$$

---

# Iterative application

`$$\lim_{x \rightarrow a} \frac{f(x)}{g(x)} = \lim_{x \rightarrow a} \frac{f'(x)}{g'(x)} = \lim_{x \rightarrow a} \frac{f''(x)}{g''(x)} = \ldots$$`

$$
`\begin{aligned}
f''(x) &amp;= \frac{1}{(1 +x)^{2}} \\
g''(x) &amp;= 2 \\
\lim_{x \rightarrow 0} \frac{f''(x)}{g''(x)} &amp;= \frac{(1 + x)^{-2}}{2} = \frac{1^{-2}}{2} = \frac{1}{2}
\end{aligned}`
$$

---

class: inverse, center, middle

# RECAP

---
## RECAP:

* Good chunk of calc 1
* Rate of change
* Intuition for derivative
* Mathematical foundation for derivative
* Rules for derivatives
* Making magic: MVT + implications

---

class: inverse, center, middle

## Helpful formulas

---

# Derivative rules: WRITE THESE DOWN

Suppose `\(a\)` is some constant, `\(f(x)\)` and `\(g(x)\)` are functions:

$$
`\begin{aligned}
f(x) &amp;= x &amp; \quad f^{'}(x) &amp;= 1 \\
f(x) &amp;= a x^{k} &amp; \quad f^{'}(x) &amp;= (a) (k) x ^{k-1} \\
f(x) &amp;= e^{x } &amp; \quad f^{'} (x) &amp;= e^{x} \\
f(x) &amp;= \sin(x) &amp; \quad f^{'} (x) &amp;= \cos (x) \\
f(x) &amp;= \cos(x) &amp; \quad f^{'} (x) &amp;= - \sin(x) \\
\end{aligned}`
$$

---

# Derivative rules

##### Constant rule `\(\left[k f(x)\right]' = k f'(x)\)`

##### Sum rule `\(\left[f(x)\pm g(x)\right]' = f'(x)\pm g'(x)\)`

##### Product rule `\(\left[f(x)g(x)\right]' = f'(x)g(x)+f(x)g'(x)\)`

##### Quotient rule `\(\frac{f(x)}{g(x)}' = \frac{f'(x)g(x)-f(x)g'(x)}{[g(x)]^2}, g(x)\neq 0\)`

##### Power rule `\(\left[x^k\right]' = k x^{k-1}\)`

---
class: center, middle, inverse
## Let’s get to know each other a bit more – Name, pronouns, subfield/research area, where you are currently, something fun/interesting about you and/or your hobbies
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const slideshow = window.slideshow;
  if (!slideshow) return;

  // Create the toggle button
  const toggleBtn = document.createElement("button");
  toggleBtn.textContent = "☰ Menu";
  Object.assign(toggleBtn.style, {
    position: "fixed",
    bottom: "20px",
    left: "20px",
    zIndex: 1000,
    padding: "6px 10px",
    background: "#0B6884",
    color: "#fff",
    border: "none",
    borderRadius: "4px",
    cursor: "pointer",
    fontSize: "25px",
    fontFamily: "'Josefin Sans', Georgia, serif",
  });
  document.body.appendChild(toggleBtn);

  // Create the menu container
  const menu = document.createElement("div");
  Object.assign(menu.style, {
    position: "fixed",
    bottom: "60px",
    left: "20px",
    width: "260px",
    maxHeight: "70vh",
    overflowY: "auto",
    background: "#f5f5f5",
    border: "1px solid #ccc",
    padding: "10px",
    display: "none",
    zIndex: 1000,
    fontFamily: "sans-serif",
    fontSize: "14px",
    boxShadow: "0 2px 8px rgba(0,0,0,0.2)",
    borderRadius: "4px"
  });

  // Export to PDF button inside the menu
  const exportBtn = document.createElement("button");
  exportBtn.textContent = "📄 Export to PDF";
  Object.assign(exportBtn.style, {
    width: "100%",
    padding: "6px",
    marginBottom: "8px",
    border: "none",
    background: "#0B6884",
    color: "#fff",
    borderRadius: "3px",
    cursor: "pointer"
  });
  exportBtn.addEventListener("click", () => {
    menu.style.display = "none";
    window.print();
  });
  menu.appendChild(exportBtn);

  // Get all slides
  const allSlides = slideshow.getSlides();

  // Build menu items (skip incremental slides)
  let displayNumber = 1;
  allSlides.forEach((slide, internalIndex) => {
    if (slide.properties.continued === "true") {
      return; // skip incremental steps
    }

    const slideElement = document.querySelector(
      `.remark-slide-container:nth-of-type(${internalIndex + 1})`
    );
    const heading = slideElement?.querySelector("h1, h2, h3");
    const title = heading
      ? heading.textContent.trim()
      : `Slide ${displayNumber}`;

    const link = document.createElement("a");
    link.textContent = `${displayNumber}. ${title}`;
    Object.assign(link.style, {
      display: "block",
      color: "#0B6884",
      textDecoration: "none",
      marginBottom: "6px",
      padding: "4px 6px",
      borderRadius: "3px",
      userSelect: "none"
    });

    link.addEventListener("mouseenter", () => {
      link.style.background = "#ddd";
    });
    link.addEventListener("mouseleave", () => {
      link.style.background = "transparent";
    });

    // Use the actual remark.js 1-based slide index
    link.addEventListener("click", (e) => {
      e.preventDefault();
      menu.style.display = "none";
      slideshow.gotoSlide(internalIndex + 1);
    });

    menu.appendChild(link);
    displayNumber++;
  });

  document.body.appendChild(menu);

  // Toggle menu
  toggleBtn.addEventListener("click", () => {
    menu.style.display = menu.style.display === "none" ? "block" : "none";
  });

  // Close on slide change
  slideshow.on("afterShowSlide", () => {
    menu.style.display = "none";
  });
});
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
